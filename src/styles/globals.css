/* src/styles/globals.css */
@import './design-tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Define CSS Variables in the :root */
@layer base {
    :root {
        /* Base Shadcn Variables (mapped from our design tokens) */
        --background: var(--color-neutral-50);
        --foreground: var(--color-neutral-900);

        --card: var(--color-neutral-50);
        --card-foreground: var(--color-neutral-900);

        --popover: var(--color-neutral-50);
        --popover-foreground: var(--color-neutral-900);

        /* Primary Color - Calming Blue */
        --primary: 207 100% 30%;
        --primary-foreground: 0 0% 100%;

        /* Secondary Color - Light Beige/Gray */
        --secondary: 30 15% 94%;
        --secondary-foreground: 224 71.4% 4.1%;

        --muted: 220 14.3% 95.9%;
        --muted-foreground: 220 8.9% 46.1%;

        /* Accent Color - Subtle Gold */
        --accent: 45 74% 62%;
        --accent-foreground: 224 71.4% 4.1%;

        /* Destructive/Error Color - Red */
        --destructive: 354 70% 54%;
        --destructive-foreground: 0 0% 100%;

        /* Success Color - Green */
        --success: 145 63% 40%;
        --success-foreground: 0 0% 100%;

        /* Warning Color - Yellow/Orange */
        --warning: 45 100% 51%;
        --warning-foreground: 224 71.4% 4.1%;

        --border: 220 13% 91%;
        --input: 220 13% 91%;
        --ring: 207 100% 30%;

        --radius: var(--radius-lg);

        /* Font Variables */
        --font-sans: "Noto Sans", sans-serif;
        --font-tajawal: "Tajawal", sans-serif;
    }
}

@layer base {

    /* Apply base font family and smoothing */
    body {
        font-family: var(--font-tajawal), var(--font-sans);
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Ensure smooth scrolling */
    html {
        scroll-behavior: smooth;
        scroll-padding-top: 5rem;
        /* Account for fixed header */
    }

    /* Improved focus styles for accessibility */
    *:focus-visible {
        outline: 2px solid hsl(var(--primary));
        outline-offset: 2px;
    }

    /* Set default transition for interactive elements */
    a,
    button,
    input,
    select,
    textarea {
        transition: all var(--transition-normal);
    }
}

/* Custom utility classes for common patterns */
@layer utilities {
    .text-balance {
        text-wrap: balance;
    }

    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-[hsl(var(--primary))] to-[hsl(var(--primary))]/70;
    }

    .bg-gradient-primary {
        @apply bg-gradient-to-br from-[hsl(var(--primary)_/_0.4)] to-[hsl(var(--primary)_/_0.6)];
    }

    .bg-gradient-accent {
        @apply bg-gradient-to-r from-[hsl(var(--accent)_/_0.4)] to-[hsl(var(--accent)_/_0.6)];
    }

    .bg-gradient-subtle {
        @apply bg-gradient-to-b from-[hsl(var(--secondary)_/_0.1)] via-[hsl(var(--secondary)_/_0.05)] to-[hsl(var(--background))];
    }

    /* Animation utilities */
    .fade-in {
        animation: fadeIn 500ms ease forwards;
    }

    .slide-up {
        animation: slideUp 500ms ease forwards;
    }

    /* Updated hover utilities for better mobile support */
    @media (hover: hover) and (pointer: fine) {
        .hover-lift {
            @apply transition-transform duration-300;
        }

        .hover-lift:hover {
            transform: translateY(-4px);
        }
    }

    /* RTL-aware margin/padding utilities */
    .me-auto {
        @apply mr-auto rtl:ml-auto rtl:mr-0;
    }

    .ms-auto {
        @apply ml-auto rtl:mr-auto rtl:ml-0;
    }

    .ps-1 {
        @apply pl-1 rtl:pr-1 rtl:pl-0;
    }

    .ps-2 {
        @apply pl-2 rtl:pr-2 rtl:pl-0;
    }

    .ps-3 {
        @apply pl-3 rtl:pr-3 rtl:pl-0;
    }

    .ps-4 {
        @apply pl-4 rtl:pr-4 rtl:pl-0;
    }

    .pe-1 {
        @apply pr-1 rtl:pl-1 rtl:pr-0;
    }

    .pe-2 {
        @apply pr-2 rtl:pl-2 rtl:pr-0;
    }

    .pe-3 {
        @apply pr-3 rtl:pl-3 rtl:pr-0;
    }

    .pe-4 {
        @apply pr-4 rtl:pl-4 rtl:pr-0;
    }
}

/* Custom component classes */
@layer components {
    .section-container {
        @apply w-full py-12 md:py-16 lg:py-24;
    }

    .section-title {
        @apply text-3xl font-bold tracking-tight text-foreground sm:text-4xl md:text-5xl mb-4;
    }

    .section-subtitle {
        @apply text-lg text-muted-foreground md:text-xl max-w-2xl mx-auto mb-8;
    }

    .card-hover {
        @apply transition-all duration-300 hover:shadow-md border border-border hover:border-primary/30;
    }

    .nav-link {
        @apply text-muted-foreground transition-colors hover:text-primary relative after:absolute after:bottom-0 after:left-0 after:right-0 after:h-0.5 after:bg-primary after:origin-center after:scale-x-0 after:transition-transform hover:after:scale-x-100;
    }

    .nav-link-active {
        @apply text-primary after:scale-x-100;
    }

    /* Form elements with better accessibility */
    .form-input {
        @apply w-full px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary;
    }

    .form-label {
        @apply block text-sm font-medium text-foreground mb-1;
    }

    /* Badge */
    .badge {
        @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
    }

    .badge-primary {
        @apply bg-primary-100 text-primary-800;
    }

    .badge-secondary {
        @apply bg-secondary-100 text-secondary-800;
    }

    .badge-accent {
        @apply bg-accent-100 text-accent-800;
    }
}

/* Custom animations */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Responsive container class */
.container {
    @apply mx-auto px-4 sm:px-6 lg:px-8;
    max-width: var(--container-2xl);
}